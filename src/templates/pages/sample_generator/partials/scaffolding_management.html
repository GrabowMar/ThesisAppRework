{# Scaffolding Management Partial #}
<div class="row g-3">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Scaffolding Templates</h3>
        <div class="card-actions">
          <button type="button" class="btn btn-primary" onclick="uploadScaffolding()">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 18a4.6 4.4 0 0 1 0 -9a5 4.5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1" /><polyline points="9 15 12 12 15 15" /><path d="M12 12l0 9" /></svg>
            Upload Scaffolding
          </button>
          <button type="button" class="btn btn-ghost-secondary" onclick="refreshScaffoldings()">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" /><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" /></svg>
            Refresh
          </button>
        </div>
      </div>
      <div class="card-body">
        <div class="row g-3">
          <!-- Scaffolding List -->
          <div class="col-lg-4">
            <div class="list-group" id="scaffolding-list">
              <a href="#" class="list-group-item list-group-item-action active" onclick="viewScaffoldingDetails('default')">
                <div class="d-flex w-100 justify-content-between">
                  <h5 class="mb-1">Default Full-Stack</h5>
                  <small class="text-muted">Active</small>
                </div>
                <p class="mb-1 small text-muted">Flask + React + Docker</p>
              </a>
            </div>
          </div>

          <!-- Scaffolding Details -->
          <div class="col-lg-8">
            <div id="scaffolding-details">
              <div class="card">
                <div class="card-header">
                  <h4 class="card-title">Default Full-Stack Scaffolding</h4>
                  <div class="card-actions">
                    <button type="button" class="btn btn-sm btn-ghost-secondary" onclick="editScaffolding('default')">
                      <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" /><path d="M16 5l3 3" /></svg>
                      Edit
                    </button>
                  </div>
                </div>
                <div class="card-body">
                  <div class="mb-3">
                    <h5>Description</h5>
                    <p class="text-muted">Complete full-stack application scaffolding with Flask backend, React frontend, and Docker Compose orchestration.</p>
                  </div>

                  <div class="mb-3">
                    <h5>Structure</h5>
                    <div class="bg-light p-3 rounded">
                      <pre class="mb-0"><code>code_templates/
├── backend/
│   ├── app.py.template
│   ├── Dockerfile.template
│   └── requirements.txt
├── frontend/
│   ├── src/
│   │   ├── App.jsx.template
│   │   └── App.css
│   ├── index.html.template
│   ├── package.json.template
│   ├── vite.config.js.template
│   └── Dockerfile.template
└── docker-compose.yml.template</code></pre>
                    </div>
                  </div>

                  <div class="mb-3">
                    <h5>Placeholders</h5>
                    <div class="table-responsive">
                      <table class="table table-sm">
                        <thead>
                          <tr>
                            <th>Placeholder</th>
                            <th>Description</th>
                            <th>Example</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td><code>{% raw %}{{model_name}}{% endraw %}</code></td>
                            <td>Model name</td>
                            <td>gpt-4</td>
                          </tr>
                          <tr>
                            <td><code>{% raw %}{{model_name_lower}}{% endraw %}</code></td>
                            <td>Model name lowercase</td>
                            <td>gpt_4</td>
                          </tr>
                          <tr>
                            <td><code>{% raw %}{{backend_port}}{% endraw %}</code></td>
                            <td>Backend port number</td>
                            <td>5001</td>
                          </tr>
                          <tr>
                            <td><code>{% raw %}{{frontend_port}}{% endraw %}</code></td>
                            <td>Frontend port number</td>
                            <td>8001</td>
                          </tr>
                          <tr>
                            <td><code>{% raw %}{{model_prefix}}{% endraw %}</code></td>
                            <td>Model prefix for naming</td>
                            <td>gpt4</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="mb-3">
                    <h5>Files</h5>
                    <div class="list-group" id="scaffolding-files">
                      <!-- Files list -->
                      <div class="list-group-item">
                        <div class="d-flex align-items-center">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon text-muted me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /></svg>
                          <span class="flex-fill">backend/app.py.template</span>
                          <button type="button" class="btn btn-sm btn-ghost-secondary" onclick="viewFile('backend/app.py.template')">View</button>
                        </div>
                      </div>
                      <div class="list-group-item">
                        <div class="d-flex align-items-center">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon text-muted me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /></svg>
                          <span class="flex-fill">frontend/src/App.jsx.template</span>
                          <button type="button" class="btn btn-sm btn-ghost-secondary" onclick="viewFile('frontend/src/App.jsx.template')">View</button>
                        </div>
                      </div>
                      <div class="list-group-item">
                        <div class="d-flex align-items-center">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon text-muted me-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /></svg>
                          <span class="flex-fill">docker-compose.yml.template</span>
                          <button type="button" class="btn btn-sm btn-ghost-secondary" onclick="viewFile('docker-compose.yml.template')">View</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- File View Modal -->
<div class="modal fade" id="file-view-modal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="file-view-modal-title">File View</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <pre id="file-view-content" class="bg-light p-3 rounded"><code></code></pre>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onclick="downloadFile()">Download</button>
      </div>
    </div>
  </div>
</div>
