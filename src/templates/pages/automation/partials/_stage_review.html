{# Stage 3: Review & Launch #}
<div class="row g-4">
  {# Pipeline Summary Card #}
  <div class="col-12">
    <div class="card border-primary">
      <div class="card-header bg-primary text-white">
        <h3 class="h6 mb-0"><i class="fas fa-clipboard-list me-2"></i>Pipeline Summary</h3>
      </div>
      <div class="card-body">
        <div class="row g-3" id="pipeline-summary">
          {# Generation Summary #}
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header py-2 bg-azure-lt">
                <h4 class="card-title mb-0 h6">
                  <i class="fas fa-code me-2 text-azure"></i>Generation
                </h4>
              </div>
              <div class="card-body py-2">
                <dl class="row mb-0 small">
                  <dt class="col-5 text-muted">Templates:</dt>
                  <dd class="col-7" id="summary-templates">-</dd>
                  <dt class="col-5 text-muted">Models:</dt>
                  <dd class="col-7" id="summary-models">-</dd>
                  <dt class="col-5 text-muted">Total Jobs:</dt>
                  <dd class="col-7 fw-bold text-azure" id="summary-gen-jobs">0</dd>
                </dl>
              </div>
            </div>
          </div>

          {# Analysis Summary #}
          <div class="col-md-6">
            <div class="card h-100">
              <div class="card-header py-2 bg-green-lt">
                <h4 class="card-title mb-0 h6">
                  <i class="fas fa-search-plus me-2 text-green"></i>Analysis
                </h4>
              </div>
              <div class="card-body py-2">
                <dl class="row mb-0 small">
                  <dt class="col-5 text-muted">Tools:</dt>
                  <dd class="col-7" id="summary-tools-count">-</dd>
                  <dt class="col-5 text-muted">Options:</dt>
                  <dd class="col-7" id="summary-analysis-options">-</dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {# Job Queue Preview #}
  <div class="col-12">
    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="h6 mb-0"><i class="fas fa-tasks me-2"></i>Job Queue Preview</h3>
        <span class="badge bg-secondary" id="total-jobs-badge">0 jobs</span>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover table-sm mb-0">
            <thead>
              <tr>
                <th class="w-5">#</th>
                <th>Template</th>
                <th>Model</th>
                <th>Analysis</th>
                <th class="text-end">Est. Time</th>
              </tr>
            </thead>
            <tbody id="job-queue-preview">
              <tr>
                <td colspan="5" class="text-center text-muted py-3">
                  <i class="fas fa-info-circle me-2"></i>
                  Select templates and models to preview job queue
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  {# Estimated Duration #}
  <div class="col-12">
    <div class="row g-3">
      <div class="col-md-4">
        <div class="card bg-light border-0">
          <div class="card-body py-2 text-center">
            <div class="text-muted small mb-1">Estimated Duration</div>
            <div class="h4 mb-0" id="est-duration">~15 min</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card bg-light border-0">
          <div class="card-body py-2 text-center">
            <div class="text-muted small mb-1">Total Operations</div>
            <div class="h4 mb-0" id="total-operations">0</div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card bg-light border-0">
          <div class="card-body py-2 text-center">
            <div class="text-muted small mb-1">Parallelism</div>
            <div class="h4 mb-0" id="parallelism-mode">Sequential</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {# Pipeline Name #}
  <div class="col-12">
    <label class="form-label fw-medium" for="pipeline-name">Pipeline Name (optional)</label>
    <input type="text" class="form-control" id="pipeline-name" placeholder="My automation pipeline...">
    <small class="text-muted">Give this pipeline a name for easier identification in history</small>
  </div>
</div>

{# Launch Alert #}
<div class="alert alert-warning mt-4">
  <div class="d-flex">
    <i class="fas fa-exclamation-triangle me-3 fa-lg mt-1"></i>
    <div>
      <h4 class="alert-title">Ready to Launch</h4>
      <p class="mb-0">
        Please review your configuration above. Once started, the pipeline will run through all stages
        automatically. You can monitor progress in the Execution panel. Ensure Docker containers are
        running if using analysis features.
      </p>
    </div>
  </div>
</div>

{# Launch Button #}
<div class="d-flex justify-content-end mt-3">
  <button type="button" class="btn btn-lg btn-primary" id="launch-pipeline-btn" onclick="launchPipeline()">
    <i class="fas fa-rocket me-2"></i>Launch Pipeline
  </button>
</div>
