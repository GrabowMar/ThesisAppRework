{# Stage 2: Analysis Configuration #}
<div class="row g-4">
  {# Tool Selection #}
  <div class="col-12">
    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="h6 mb-0">Select Analysis Tools</h3>
        <div class="btn-group btn-group-sm" role="group">
          <button type="button" class="btn btn-ghost-primary" onclick="selectAllTools()">Select all</button>
          <button type="button" class="btn btn-ghost-secondary" onclick="clearAllTools()">Clear</button>
        </div>
      </div>
      <div class="card-body">
        <div class="row g-3" id="tools-grid">
          {# Tool categories loaded dynamically #}
          <div class="col-lg-6">
            <div class="card card-sm border">
              <div class="card-header py-2">
                <h4 class="card-title mb-0"><i class="fas fa-search text-primary me-2"></i>Static Analysis</h4>
              </div>
              <div class="card-body p-0" id="static-tools-list">
                <div class="text-center py-3">
                  <div class="spinner-border spinner-border-sm text-primary"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card card-sm border">
              <div class="card-header py-2">
                <h4 class="card-title mb-0"><i class="fas fa-play text-success me-2"></i>Dynamic Analysis</h4>
              </div>
              <div class="card-body p-0" id="dynamic-tools-list">
                <div class="text-center py-3">
                  <div class="spinner-border spinner-border-sm text-success"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card card-sm border">
              <div class="card-header py-2">
                <h4 class="card-title mb-0"><i class="fas fa-tachometer-alt text-info me-2"></i>Performance Testing</h4>
              </div>
              <div class="card-body p-0" id="performance-tools-list">
                <div class="text-center py-3">
                  <div class="spinner-border spinner-border-sm text-info"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card card-sm border">
              <div class="card-header py-2">
                <h4 class="card-title mb-0"><i class="fas fa-brain text-warning me-2"></i>AI Analysis</h4>
              </div>
              <div class="card-body p-0" id="ai-tools-list">
                <div class="text-center py-3">
                  <div class="spinner-border spinner-border-sm text-warning"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {# Analysis Options #}
  <div class="col-12">
    <div class="card bg-light border-0">
      <div class="card-header py-2">
        <h3 class="h6 mb-0">Analysis Options</h3>
      </div>
      <div class="card-body py-2">
        <div class="row g-3">
          <div class="col-md-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="analysis-wait-complete" checked>
              <label class="form-check-label" for="analysis-wait-complete">
                Wait for analysis completion
              </label>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="analysis-parallel">
              <label class="form-check-label" for="analysis-parallel">
                Run analyses in parallel
              </label>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="analysis-container-auto">
              <label class="form-check-label" for="analysis-container-auto">
                Auto-start containers
              </label>
            </div>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="analysis-container-stop" checked>
              <label class="form-check-label" for="analysis-container-stop">
                Stop containers after analysis
              </label>
              <small class="text-muted d-block">Clean up containers after successful analysis</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{# Help Alert #}
<div class="alert alert-info mt-4">
  <i class="fas fa-lightbulb me-2"></i>
  Analysis will run automatically after each application is generated. Select the tools you want to use 
  or click "Select all" for comprehensive analysis. Tools are organized by category for easy selection.
</div>
