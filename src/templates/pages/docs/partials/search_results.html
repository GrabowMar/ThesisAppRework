{% if query and results %}
<div class="card card-table-compact">
    <div class="card-header d-flex flex-wrap align-items-center gap-3">
        <h3 class="card-title d-flex align-items-center gap-2 mb-0">
            <i class="fa-solid fa-magnifying-glass"></i>
            <span>Search results for "{{ query }}"</span>
        </h3>
        <div class="card-actions ms-auto">
            <span class="badge bg-secondary">{{ results|length }} matches</span>
        </div>
    </div>
    <div class="list-group list-group-flush">
        {% for item in results %}
        <a class="list-group-item list-group-item-action d-flex align-items-center gap-3" href="{{ url_for('docs.docs_file', filepath=item.relpath) }}">
            <div class="avatar bg-primary-lt text-primary">
                <i class="fa-solid fa-file-lines"></i>
            </div>
            <div class="flex-fill">
                <div class="fw-medium">{{ item.title }}</div>
                <div class="text-muted small d-flex align-items-center gap-2">
                    <span class="badge bg-secondary-lt text-secondary">{{ item.category }}</span>
                    <code class="small">{{ item.relpath }}</code>
                </div>
            </div>
            <i class="fa-solid fa-chevron-right text-muted"></i>
        </a>
        {% endfor %}
    </div>
</div>
{% elif query %}
<div class="alert alert-warning d-flex align-items-center gap-3" role="alert">
    <div class="avatar bg-warning-lt text-warning">
        <i class="fa-solid fa-triangle-exclamation"></i>
    </div>
    <div>
        <div class="fw-medium">No matches for "{{ query }}"</div>
        <div class="text-muted small">Try different keywords or browse the documentation sections below.</div>
    </div>
</div>
{% else %}
<!-- no query: render nothing -->
{% endif %}
