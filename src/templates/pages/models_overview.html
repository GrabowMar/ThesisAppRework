{% extends "base.html" %}

{% block title %}Models Overview - Research Platform{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Page Header -->
    <div class="page-header">
        <div>
            <h1 class="page-title">AI Models Overview</h1>
            <p class="page-subtitle">Manage and analyze AI model applications</p>
        </div>
    </div>

    <!-- Filters -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <input type="text" id="models-search" class="form-control" placeholder="Search models...">
                </div>
                <div class="col-md-3">
                    <select id="provider-filter" class="form-select">
                        <option value="">All Providers</option>
                        <option value="openai">OpenAI</option>
                        <option value="anthropic">Anthropic</option>
                        <option value="google">Google</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select id="capability-filter" class="form-select">
                        <option value="">All Capabilities</option>
                        <option value="text">Text</option>
                        <option value="code">Code</option>
                        <option value="multimodal">Multimodal</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select id="sort-by" class="form-select">
                        <option value="name">Name</option>
                        <option value="provider">Provider</option>
                        <option value="apps">Apps Count</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Models Table -->
    <div class="card">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Provider</th>
                            <th>Apps</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="models-table-body">
                        <!-- Models loaded here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
class ModelsOverview {
    constructor() {
        this.filters = {
            search: '',
            provider: '',
            capability: '',
            sortBy: 'name'
        };
        this.init();
    }

    init() {
        this.setupEventListeners();
        this.setupKeyboardShortcuts();
        this.loadSavedFilters();
    }

    setupEventListeners() {
        document.getElementById('models-search')?.addEventListener('input', () => this.applyFilters());
        document.getElementById('provider-filter')?.addEventListener('change', () => this.applyFilters());
        document.getElementById('capability-filter')?.addEventListener('change', () => this.applyFilters());
        document.getElementById('sort-by')?.addEventListener('change', () => this.applyFilters());
    }

    setupKeyboardShortcuts() {
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'f') {
                e.preventDefault();
                document.getElementById('models-search')?.focus();
            }
        });
    }

    loadSavedFilters() {
        const saved = localStorage.getItem('modelsOverviewFilters');
        if (saved) {
            this.filters = { ...this.filters, ...JSON.parse(saved) };
            this.restoreFilters();
            this.applyFilters();
        }
    }

    restoreFilters() {
        if (this.filters.search) document.getElementById('models-search').value = this.filters.search;
        if (this.filters.provider) document.getElementById('provider-filter').value = this.filters.provider;
        if (this.filters.capability) document.getElementById('capability-filter').value = this.filters.capability;
        if (this.filters.sortBy) document.getElementById('sort-by').value = this.filters.sortBy;
    }

    applyFilters() {
        this.filters = {
            search: document.getElementById('models-search')?.value || '',
            provider: document.getElementById('provider-filter')?.value || '',
            capability: document.getElementById('capability-filter')?.value || '',
            sortBy: document.getElementById('sort-by')?.value || 'name'
        };

        // Save filters
        localStorage.setItem('modelsOverviewFilters', JSON.stringify(this.filters));

        // Apply filters to table
        this.filterTable();
    }

    filterTable() {
        const rows = document.querySelectorAll('.model-row');
        let visibleCount = 0;

        rows.forEach(row => {
            const modelName = row.querySelector('td:first-child')?.textContent.toLowerCase() || '';
            const provider = row.dataset.provider || '';
            const capability = row.dataset.capability || '';
            
            let visible = true;
            
            if (this.filters.search && !modelName.includes(this.filters.search.toLowerCase())) {
                visible = false;
            }
            
            if (this.filters.provider && provider !== this.filters.provider) {
                visible = false;
            }
            
            if (this.filters.capability && capability !== this.filters.capability) {
                visible = false;
            }
            
            row.style.display = visible ? '' : 'none';
            if (visible) visibleCount++;
        });
        
        // Update count display
        this.updateCount(visibleCount);
    }
    
    updateCount(count) {
        const countElement = document.getElementById('models-count');
        if (countElement) {
            countElement.textContent = `${count} model(s) found`;
        }
    }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    new ModelsOverview();
});
</script>
{% endblock %}
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Models Table -->
    <div id="models-content">
        <div class="card">
            <div class="card-header">
                <h6 class="card-title">
                    <i class="fas fa-table mr-2"></i>
                    AI Models Database
                </h6>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0" id="models-table">
                        <thead class="thead-light">
                            <tr>
                                <th>Model</th>
                                <th>Provider</th>
                                <th>Context Length</th>
                                <th>Max Output</th>
                                <th>Pricing</th>
                                <th>Capabilities</th>
                                <th>Performance</th>
                                <th>Apps Generated</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for model in models %}
                            <tr class="model-row" data-model="{{ model.slug }}" data-provider="{{ model.provider }}">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="model-icon mr-2">
                                            <i class="fas fa-robot text-primary"></i>
                                        </div>
                                        <div>
                                            <div class="font-weight-bold">{{ model.display_name }}</div>
                                            <small class="text-muted">{{ model.slug }}</small>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge badge-primary">{{ model.provider|title }}</span>
                                </td>
                                <td>
                                    <div class="text-sm">
                                        {{ "{:,}".format(model.context_length) if model.context_length else 'N/A' }}
                                    </div>
                                    <small class="text-muted">tokens</small>
                                </td>
                                <td>
                                    <div class="text-sm">
                                        {{ "{:,}".format(model.max_output) if model.max_output else 'N/A' }}
                                    </div>
                                    <small class="text-muted">tokens</small>
                                </td>
                                <td>
                                    <div class="text-sm">
                                        {% if model.input_price_per_token %}
                                        <div><strong>In:</strong> ${{ "%.6f"|format(model.input_price_per_token) }}</div>
                                        <div><strong>Out:</strong> ${{ "%.6f"|format(model.output_price_per_token) }}</div>
                                        {% elif model.is_free %}
                                        <span class="badge badge-success">Free</span>
                                        {% else %}
                                        <span class="text-muted">N/A</span>
                                        {% endif %}
                                    </div>
                                </td>
                                <td>
                                    <div class="d-flex flex-wrap gap-1">
                                        {% if model.supports_vision %}
                                        <span class="badge badge-info">Vision</span>
                                        {% endif %}
                                        {% if model.supports_function_calling %}
                                        <span class="badge badge-success">Functions</span>
                                        {% endif %}
                                        {% if model.supports_json_mode %}
                                        <span class="badge badge-warning">JSON</span>
                                        {% endif %}
                                        {% if model.supports_streaming %}
                                        <span class="badge badge-primary">Streaming</span>
                                        {% endif %}
                                    </div>
                                </td>
                                <td>
                                    <div class="text-sm">
                                        {% if model.cost_efficiency %}
                                        <div class="progress mb-1" style="height: 15px;">
                                            <div class="progress-bar bg-success" style="width: {{ model.cost_efficiency * 10 }}%">
                                                {{ "%.1f"|format(model.cost_efficiency) }}
                                            </div>
                                        </div>
                                        <small class="text-muted">Cost Efficiency</small>
                                        {% endif %}
                                        {% if model.safety_score %}
                                        <div class="progress" style="height: 15px;">
                                            <div class="progress-bar bg-info" style="width: {{ model.safety_score * 10 }}%">
                                                {{ "%.1f"|format(model.safety_score) }}
                                            </div>
                                        </div>
                                        <small class="text-muted">Safety Score</small>
                                        {% endif %}
                                        {% if not model.cost_efficiency and not model.safety_score %}
                                        <span class="text-muted">N/A</span>
                                        {% endif %}
                                    </div>
                                </td>
                                <td>
                                    <div class="text-center">
                                        <div class="h6 mb-0">{{ model.app_count or 30 }}</div>
                                        <small class="text-muted">applications</small>
                                    </div>
                                </td>
                                <td>
                                    <div class="status-indicator status-{{ model.status or 'ready' }}">
                                        <span class="status-dot"></span>
                                        {{ model.status|title if model.status else 'Ready' }}
                                    </div>
                                </td>
                                <td>
                                    <div class="text-center">
                                        <p class="text-muted mb-1 small">
                                            <i class="fas fa-info-circle mr-1"></i>
                                            Research data available
                                        </p>
                                        <button type="button" class="btn btn-outline-info btn-sm"
                                                onclick="showModelDetails('{{ model.canonical_slug }}')"
                                                data-toggle="tooltip" title="View Comprehensive Model Analysis">
                                            <i class="fas fa-info-circle mr-1"></i>
                                            Details
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Empty State -->
                {% if not models %}
                <div class="text-center py-5">
                    <i class="fas fa-search fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No Models Found</h4>
                    <p class="text-muted">No models match your current filter criteria.</p>
                </div>
                {% endif %}

                <!-- Table Footer -->
                {% if models %}
                <div class="d-flex justify-content-between align-items-center p-3 bg-light border-top">
                    <div class="text-muted">
                        <i class="fas fa-info-circle mr-1"></i>
                        Showing {{ models|length }} AI models with {{ (models|length * 30) if models else 0 }} total applications
                    </div>
                    <div class="text-muted">
                        <small>Each model generates 30 different application types for analysis</small>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Model Details Modal -->
<div class="modal fade" id="modelDetailsModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-robot mr-2"></i>
                    Comprehensive Model Analysis
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="model-details-content">
                <!-- Content loaded via HTMX -->
            </div>
            <div class="modal-footer">
                <div class="text-muted small">
                    <i class="fas fa-info-circle mr-1"></i>
                    This data is part of a comprehensive research study analyzing AI model capabilities in application development.
                </div>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Models Overview JavaScript
class ModelsOverview {
    constructor() {
        this.filters = {
            search: '',
            provider: '',
            capability: '',
            sortBy: 'name'
        };
        this.init();
    }

    init() {
        this.setupEventListeners();
        this.setupKeyboardShortcuts();
        this.loadSavedFilters();
    }

    setupEventListeners() {
        // Filter events
        document.getElementById('models-search')?.addEventListener('input', 
            this.debounce(() => this.applyFilters(), 300));
        document.getElementById('provider-filter')?.addEventListener('change', () => this.applyFilters());
        document.getElementById('capability-filter')?.addEventListener('change', () => this.applyFilters());
        document.getElementById('sort-by')?.addEventListener('change', () => this.applyFilters());
    }

    setupKeyboardShortcuts() {
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'f') {
                e.preventDefault();
                document.getElementById('models-search')?.focus();
            }
        });
    }

    loadSavedFilters() {
        const saved = localStorage.getItem('modelsOverviewFilters');
        if (saved) {
            this.filters = { ...this.filters, ...JSON.parse(saved) };
            this.restoreFilters();
            this.applyFilters();
        }
    }

    applyFilters() {
        this.filters = {
            search: document.getElementById('models-search')?.value || '',
            provider: document.getElementById('provider-filter')?.value || '',
            capability: document.getElementById('capability-filter')?.value || '',
            sortBy: document.getElementById('sort-by')?.value || 'name'
        };

        // Save filters
        localStorage.setItem('modelsOverviewFilters', JSON.stringify(this.filters));

        // Apply filters to table
        this.filterTable();
    }

    filterTable() {
        const rows = document.querySelectorAll('.model-row');
        let visibleCount = 0;

        rows.forEach(row => {
            const modelName = row.querySelector('td:first-child').textContent.toLowerCase();
            const provider = row.dataset.provider?.toLowerCase() || '';
            const capabilities = Array.from(row.querySelectorAll('.badge')).map(b => b.textContent.toLowerCase());

            let visible = true;

            // Search filter
            if (this.filters.search) {
                const searchTerm = this.filters.search.toLowerCase();
                visible = visible && modelName.includes(searchTerm);
            }

            // Provider filter
            if (this.filters.provider) {
                visible = visible && provider === this.filters.provider.toLowerCase();
            }

            // Capability filter
            if (this.filters.capability) {
                const capFilter = this.filters.capability.toLowerCase();
                visible = visible && capabilities.some(cap => cap.includes(capFilter));
            }

            row.style.display = visible ? '' : 'none';
            if (visible) visibleCount++;
        });

        // Sort visible rows
        this.sortTable();

        // Update count display
        this.updateFilterCount(visibleCount);
    }

    sortTable() {
        const tbody = document.querySelector('#models-table tbody');
        const rows = Array.from(tbody.querySelectorAll('.model-row:not([style*="display: none"])'));

        rows.sort((a, b) => {
            const aValue = this.getSortValue(a, this.filters.sortBy);
            const bValue = this.getSortValue(b, this.filters.sortBy);
            
            if (typeof aValue === 'number' && typeof bValue === 'number') {
                return bValue - aValue; // Descending for numbers
            }
            return aValue.localeCompare(bValue); // Ascending for strings
        });

        // Reorder rows
        rows.forEach(row => tbody.appendChild(row));
    }

    getSortValue(row, sortBy) {
        switch (sortBy) {
            case 'name':
                return row.querySelector('td:first-child .font-weight-bold').textContent;
            case 'provider':
                return row.dataset.provider || '';
            case 'context_length':
                const contextText = row.querySelector('td:nth-child(3) .text-sm').textContent;
                return parseInt(contextText.replace(/[,\s]/g, '')) || 0;
            case 'max_output':
                const outputText = row.querySelector('td:nth-child(4) .text-sm').textContent;
                return parseInt(outputText.replace(/[,\s]/g, '')) || 0;
            default:
                return '';
        }
    }

    updateFilterCount(count) {
        // Update the footer text with filtered count
        const footer = document.querySelector('.bg-light.border-top .text-muted');
        if (footer) {
            const totalModels = document.querySelectorAll('.model-row').length;
            if (count !== totalModels) {
                footer.innerHTML = `<i class="fas fa-filter mr-1"></i>Showing ${count} of ${totalModels} models (filtered)`;
            } else {
                footer.innerHTML = `<i class="fas fa-info-circle mr-1"></i>Showing ${count} AI models with ${count * 30} total applications`;
            }
        }
    }

    restoreFilters() {
        document.getElementById('models-search').value = this.filters.search;
        document.getElementById('provider-filter').value = this.filters.provider;
        document.getElementById('capability-filter').value = this.filters.capability;
        document.getElementById('sort-by').value = this.filters.sortBy;
    }

    clearFilters() {
        this.filters = { search: '', provider: '', capability: '', sortBy: 'name' };
        this.restoreFilters();
        localStorage.removeItem('modelsOverviewFilters');
        this.filterTable();
    }

    showToast(message, type = 'info') {
        const toast = document.createElement('div');
        toast.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
        toast.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
        toast.innerHTML = `
            ${message}
            <button type="button" class="close" data-dismiss="alert">
                <span>&times;</span>
            </button>
        `;
        document.body.appendChild(toast);

        setTimeout(() => {
            toast.remove();
        }, 5000);
    }

    debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }
}

// Global functions
window.clearModelFilters = function() {
    modelsOverview.clearFilters();
};

window.showModelDetails = function(modelSlug) {
    // Find the model data from the current models in the table
    const modelRow = document.querySelector(`[data-model="${modelSlug}"]`);
    if (!modelRow) {
        console.error('Model not found:', modelSlug);
        return;
    }

    // Extract model data from the table row
    const modelName = modelRow.querySelector('.font-weight-bold').textContent;
    const provider = modelRow.querySelector('.badge-primary').textContent;
    const contextLength = modelRow.querySelector('td:nth-child(3) .text-sm').textContent.replace(',', '').replace('N/A', '');
    const maxOutput = modelRow.querySelector('td:nth-child(4) .text-sm').textContent.replace(',', '').replace('N/A', '');
    
    // Get capabilities
    const capabilities = [];
    modelRow.querySelectorAll('td:nth-child(6) .badge').forEach(badge => {
        capabilities.push(badge.textContent);
    });

    // Create comprehensive model details content
    const detailsContent = `
        <div class="container-fluid">
            <!-- Header Section -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="model-header-card">
                        <div class="d-flex align-items-center mb-3">
                            <div class="model-icon mr-3">
                                <i class="fas fa-${capabilities.includes('Vision') ? 'eye' : capabilities.includes('Functions') ? 'cogs' : 'brain'} fa-2x text-${capabilities.includes('Vision') ? 'info' : capabilities.includes('Functions') ? 'success' : 'primary'}"></i>
                            </div>
                            <div>
                                <h3 class="text-primary mb-1">${modelName}</h3>
                                <p class="text-muted mb-1"><strong>${provider}</strong> - ${modelSlug}</p>
                                <div class="model-badges">
                                    ${capabilities.map(cap => `<span class="badge badge-${cap === 'Vision' ? 'info' : cap === 'Functions' ? 'success' : cap === 'JSON' ? 'warning' : 'primary'}">${cap}</span>`).join(' ')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <!-- Core Model Information -->
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white">
                            <h6 class="mb-0 font-weight-bold">
                                <i class="fas fa-microchip mr-2"></i>Core Specifications
                            </h6>
                        </div>
                        <div class="card-body">
                            <div class="row mb-2">
                                <div class="col-5"><strong>Provider:</strong></div>
                                <div class="col-7">
                                    <span class="badge badge-primary">${provider}</span>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-5"><strong>Model ID:</strong></div>
                                <div class="col-7"><code>${modelSlug}</code></div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-5"><strong>Context Window:</strong></div>
                                <div class="col-7">
                                    <span class="font-weight-bold text-info">${contextLength || 'N/A'}</span>
                                    ${contextLength ? '<small class="text-muted"> tokens</small>' : ''}
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-5"><strong>Max Output:</strong></div>
                                <div class="col-7">
                                    <span class="font-weight-bold text-success">${maxOutput || 'N/A'}</span>
                                    ${maxOutput ? '<small class="text-muted"> tokens</small>' : ''}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-5"><strong>Applications:</strong></div>
                                <div class="col-7">
                                    <span class="badge badge-info">30 apps generated</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Capabilities -->
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-info text-white">
                            <h6 class="mb-0 font-weight-bold">
                                <i class="fas fa-cogs mr-2"></i>Capabilities & Features
                            </h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6">
                                    <div class="capability-item mb-2">
                                        <span class="mr-2">
                                            <i class="fas fa-${capabilities.includes('Functions') ? 'check-circle text-success' : 'times-circle text-muted'}"></i>
                                        </span>
                                        Function Calling
                                    </div>
                                    <div class="capability-item mb-2">
                                        <span class="mr-2">
                                            <i class="fas fa-${capabilities.includes('Vision') ? 'check-circle text-success' : 'times-circle text-muted'}"></i>
                                        </span>
                                        Vision Support
                                    </div>
                                    <div class="capability-item mb-2">
                                        <span class="mr-2">
                                            <i class="fas fa-${capabilities.includes('JSON') ? 'check-circle text-success' : 'times-circle text-muted'}"></i>
                                        </span>
                                        JSON Mode
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="capability-item mb-2">
                                        <span class="mr-2">
                                            <i class="fas fa-${capabilities.includes('Streaming') ? 'check-circle text-success' : 'times-circle text-muted'}"></i>
                                        </span>
                                        Streaming
                                    </div>
                                    <div class="capability-item mb-2">
                                        <span class="mr-2">
                                            <i class="fas fa-check-circle text-success"></i>
                                        </span>
                                        Research Ready
                                    </div>
                                    <div class="capability-item mb-2">
                                        <span class="mr-2">
                                            <i class="fas fa-check-circle text-success"></i>
                                        </span>
                                        Code Generation
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Research Applications -->
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-success text-white">
                            <h6 class="mb-0 font-weight-bold">
                                <i class="fas fa-flask mr-2"></i>Research Applications
                            </h6>
                        </div>
                        <div class="card-body">
                            <div class="research-metric mb-3">
                                <div class="d-flex justify-content-between">
                                    <span>Applications Generated:</span>
                                    <strong>30</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-success" style="width: 100%"></div>
                                </div>
                            </div>
                            <div class="research-metric mb-3">
                                <div class="d-flex justify-content-between">
                                    <span>Security Analyses:</span>
                                    <strong>Available</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-info" style="width: 85%"></div>
                                </div>
                            </div>
                            <div class="research-metric mb-3">
                                <div class="d-flex justify-content-between">
                                    <span>Performance Tests:</span>
                                    <strong>Available</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-warning" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="research-metric">
                                <div class="d-flex justify-content-between">
                                    <span>Code Quality:</span>
                                    <strong>Analyzed</strong>
                                </div>
                                <div class="progress mt-1">
                                    <div class="progress-bar bg-primary" style="width: 90%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Application Types -->
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-header bg-warning text-dark">
                            <h6 class="mb-0 font-weight-bold">
                                <i class="fas fa-code mr-2"></i>Generated Application Types
                            </h6>
                        </div>
                        <div class="card-body">
                            <div class="app-types-grid">
                                <div class="app-type-item">
                                    <i class="fas fa-sign-in-alt text-primary"></i>
                                    <span>Authentication Systems</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-shopping-cart text-success"></i>
                                    <span>E-commerce Platforms</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-comments text-info"></i>
                                    <span>Chat Applications</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-chart-bar text-warning"></i>
                                    <span>Analytics Dashboards</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-tasks text-secondary"></i>
                                    <span>Task Management</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-blog text-primary"></i>
                                    <span>Content Management</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-wifi text-success"></i>
                                    <span>IoT Platforms</span>
                                </div>
                                <div class="app-type-item">
                                    <i class="fas fa-gamepad text-info"></i>
                                    <span>Gaming Platforms</span>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <small class="text-muted">And 22 more application types...</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Research Data Access -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-dark text-white">
                            <h6 class="mb-0 font-weight-bold">
                                <i class="fas fa-database mr-2"></i>Research Data Access
                            </h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Available Data Sets:</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success mr-2"></i>Generated Source Code (30 applications)</li>
                                        <li><i class="fas fa-check text-success mr-2"></i>Security Analysis Results</li>
                                        <li><i class="fas fa-check text-success mr-2"></i>Performance Benchmarks</li>
                                        <li><i class="fas fa-check text-success mr-2"></i>Code Quality Metrics</li>
                                        <li><i class="fas fa-check text-success mr-2"></i>Deployment Configurations</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Access Methods:</h6>
                                    <div class="btn-group-vertical w-100">
                                        <a href="/models/${modelSlug}/apps" class="btn btn-outline-primary btn-sm">
                                            <i class="fas fa-list mr-1"></i>Browse Applications
                                        </a>
                                        <a href="/models/${modelSlug}/analysis" class="btn btn-outline-success btn-sm">
                                            <i class="fas fa-shield-alt mr-1"></i>Security Analysis
                                        </a>
                                        <a href="/models/${modelSlug}/performance" class="btn btn-outline-warning btn-sm">
                                            <i class="fas fa-tachometer-alt mr-1"></i>Performance Data
                                        </a>
                                        <a href="/models/${modelSlug}/export" class="btn btn-outline-info btn-sm">
                                            <i class="fas fa-download mr-1"></i>Export Data
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Update modal content
    document.getElementById('model-details-content').innerHTML = detailsContent;
    $('#modelDetailsModal').modal('show');
};

// Initialize models overview
let modelsOverview;
document.addEventListener('DOMContentLoaded', function() {
    modelsOverview = new ModelsOverview();
});
</script>
{% endblock %}
