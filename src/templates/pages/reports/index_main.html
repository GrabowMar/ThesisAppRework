{#
  Page: Reports Index
  Template: pages/reports/index_main.html
  Layout: layouts/base.html
  Purpose: Entry point to select and view generated analysis reports.
  Context:
    - reports: list[ReportRecord]
#}
{% extends 'layouts/base.html' %}
{% set has_right_sidebar = true %}
{% set page_title = 'Reports' %}
{% set page_icon = 'fas fa-file-lines' %}
{% set page_subtitle = 'Generated analysis summaries' %}
{% block content %}
  <div class="card" data-component="reports-index">
    <div class="table-responsive">
      <table class="table table-sm table-striped table-vcenter card-table mb-0">
        <thead>
          <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Created</th>
            <th class="w-1"></th>
          </tr>
        </thead>
        <tbody>
          {% if reports %}
            {% for r in reports %}
            <tr>
              <td><span class="text-muted">{{ r.id }}</span></td>
              <td>{{ r.type }}</td>
              <td class="text-muted">--</td>
              <td>
                <button class="btn btn-sm btn-ghost-primary">View</button>
              </td>
            </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="4" class="text-center text-muted py-4">
                <div class="empty">
                  <div class="empty-icon">
                    <i class="fa-regular fa-file-lines fa-2x text-muted" aria-hidden="true"></i>
                  </div>
                  <p class="empty-title">No reports yet</p>
                  <p class="empty-subtitle text-muted">Generate your first analysis report to get started</p>
                </div>
              </td>
            </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

{% block right_sidebar %}
<div class="d-flex flex-column gap-3">
  <div class="card">
    <div class="card-body pb-2">
      <div class="d-flex align-items-center mb-2"><i class="fas fa-file-lines me-2 text-primary"></i><strong>Reports</strong></div>
      <div class="text-muted small">Generated analysis summaries</div>
    </div>
  </div>
  <div class="card">
    <div class="card-header py-2"><strong>Actions</strong></div>
    <div class="card-body d-flex flex-column gap-2">
      <button class="btn btn-primary btn-sm w-100 d-flex align-items-center justify-content-center" hx-get="/reports/new" hx-target="#modal-region">
        <i class="fa-solid fa-plus me-2" aria-hidden="true"></i>
        <span>Generate Report</span>
      </button>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    // Reports page hooks
  </script>
{% endblock %}
