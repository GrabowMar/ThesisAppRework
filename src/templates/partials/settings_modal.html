<div class="settings-form">
    <form hx-post="{{ url_for('api.save_settings') }}" 
          hx-target="#flash-messages">
        
        <div class="modal-header">
            <h3 class="modal-title">⚙️ Application Settings</h3>
            <button type="button" class="modal-close" onclick="closeModal()">×</button>
        </div>
        
        <div class="modal-body">
            <div class="form-group">
                <label for="auto_refresh">Auto Refresh Interval (seconds)</label>
                <input type="number" 
                       id="auto_refresh" 
                       name="auto_refresh" 
                       value="{{ settings.auto_refresh|default(30) }}"
                       min="5" 
                       max="300" 
                       class="form-control">
                <small class="form-text">How often to refresh dashboard data automatically</small>
            </div>
            
            <div class="form-group">
                <label for="items_per_page">Items Per Page</label>
                <select id="items_per_page" name="items_per_page" class="form-control">
                    <option value="10" {{ 'selected' if settings.items_per_page == 10 else '' }}>10</option>
                    <option value="20" {{ 'selected' if settings.items_per_page == 20 else '' }}>20</option>
                    <option value="50" {{ 'selected' if settings.items_per_page == 50 else '' }}>50</option>
                    <option value="100" {{ 'selected' if settings.items_per_page == 100 else '' }}>100</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" 
                           name="enable_notifications" 
                           {{ 'checked' if settings.enable_notifications else '' }}>
                    Enable Desktop Notifications
                </label>
            </div>
            
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" 
                           name="dark_mode" 
                           {{ 'checked' if settings.dark_mode else '' }}>
                    Enable Dark Mode
                </label>
            </div>
            
            <div class="form-group">
                <label for="default_analysis_type">Default Analysis Type</label>
                <select id="default_analysis_type" name="default_analysis_type" class="form-control">
                    <option value="security" {{ 'selected' if settings.default_analysis_type == 'security' else '' }}>Security Analysis</option>
                    <option value="performance" {{ 'selected' if settings.default_analysis_type == 'performance' else '' }}>Performance Testing</option>
                    <option value="zap" {{ 'selected' if settings.default_analysis_type == 'zap' else '' }}>ZAP Security Scan</option>
                    <option value="openrouter" {{ 'selected' if settings.default_analysis_type == 'openrouter' else '' }}>AI Code Analysis</option>
                </select>
            </div>
        </div>
        
        <div class="modal-actions">
            <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </div>
    </form>
</div>
