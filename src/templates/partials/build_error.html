<div class="card">
    <div class="card-header">
        <h6 class="mb-0">Build Failed: {{ model }}/app{{ app_num }}</h6>
    </div>
    <div class="card-body">
        <div class="alert alert-danger" role="alert">
            <i class="fas fa-exclamation-triangle"></i>
            {{ error }}
        </div>
        
        {% if output %}
            <div class="mt-3">
                <h6>Build Output:</h6>
                <pre class="bg-dark text-light p-3 rounded" style="max-height: 300px; overflow-y: auto; font-size: 12px; line-height: 1.3;">{{ output }}</pre>
            </div>
        {% endif %}
        
        <div class="mt-3">
            <button class="btn btn-warning btn-sm" 
                    hx-post="/docker/build/{{ model }}/{{ app_num }}"
                    hx-target="#build-result-{{ model }}-{{ app_num }}"
                    hx-indicator="#loading-spinner">
                <i class="fas fa-redo"></i> Retry Build
            </button>
            
            <button class="btn btn-info btn-sm ms-2" 
                    hx-get="/docker/logs/{{ model }}/{{ app_num }}/backend"
                    hx-target="#logs-modal-content"
                    data-bs-toggle="modal" 
                    data-bs-target="#logsModal">
                <i class="fas fa-file-alt"></i> View Logs
            </button>
        </div>
    </div>
</div>
