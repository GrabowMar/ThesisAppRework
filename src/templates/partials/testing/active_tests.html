{% if active_tests %}
<div class="table-responsive">
    <table class="table table-hover align-middle">
        <thead>
            <tr>
                <th>Test ID</th>
                <th>Application</th>
                <th>Type</th>
                <th>Progress</th>
                <th>Duration</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for test in active_tests %}
            <tr>
                <td>
                    <code>#{{ test.id }}</code>
                </td>
                <td>
                    <div>
                        <strong>{{ test.model_slug }}</strong><br>
                        <small class="text-muted">App {{ test.app_number }}</small>
                    </div>
                </td>
                <td>
                    <span class="badge bg-{{ test.type_color }}">
                        {{ test.test_type|title }}
                    </span>
                </td>
                <td>
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" 
                             role="progressbar" 
                             style="width: {{ test.progress }}%"
                             aria-valuenow="{{ test.progress }}"
                             aria-valuemin="0" 
                             aria-valuemax="100">
                            {{ test.progress }}%
                        </div>
                    </div>
                </td>
                <td>
                    <small>{{ test.duration }}</small>
                </td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <button class="btn btn-outline-primary"
                                hx-get="/testing/test/{{ test.id }}/details"
                                hx-target="#modal-container"
                                hx-swap="innerHTML">
                            <i class="fas fa-info-circle"></i>
                        </button>
                        <button class="btn btn-outline-danger"
                                hx-post="/testing/test/{{ test.id }}/cancel"
                                hx-confirm="Cancel this test?"
                                hx-target="#active-tests"
                                hx-swap="innerHTML">
                            <i class="fas fa-stop"></i>
                        </button>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script>
// Update active test count
document.getElementById('active-test-count').textContent = '{{ active_tests|length }}';
</script>
{% else %}
<div class="text-center py-4 text-muted">
    <i class="fas fa-info-circle fs-1 mb-3"></i>
    <p>No active tests running</p>
</div>
{% endif %}
