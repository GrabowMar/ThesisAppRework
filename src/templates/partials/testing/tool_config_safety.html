<!-- Safety Configuration Panel -->
<div class="tool-config-panel" data-tool-config="safety">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h6 class="mb-0"><i class="fas fa-shield-alt me-2"></i>Safety Configuration</h6>
        <span class="badge bg-warning">Dependency Security</span>
    </div>
    
    <div class="row">
        <!-- Scan Type -->
        <div class="col-md-6">
            <div class="mb-3">
                <label for="safety_check_type" class="form-label">Scan Type</label>
                <select name="safety_check_type" id="safety_check_type" class="form-select">
                    <option value="scan" selected>Scan (v3)</option>
                    <option value="check">Check (Legacy)</option>
                </select>
                <div class="form-text">Scan is the new v3 API with enhanced features</div>
            </div>
        </div>
        
        <!-- Output Format -->
        <div class="col-md-6">
            <div class="mb-3">
                <label for="safety_output_format" class="form-label">Output Format</label>
                <select name="safety_output_format" id="safety_output_format" class="form-select">
                    <option value="json" selected>JSON</option>
                    <option value="html">HTML</option>
                    <option value="spdx">SPDX</option>
                    <option value="text">Text</option>
                </select>
            </div>
        </div>
    </div>
    
    <div class="row">
        <!-- Detailed Output -->
        <div class="col-md-6">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="safety_detailed_output" id="safety_detailed_output" checked>
                <label class="form-check-label" for="safety_detailed_output">
                    Detailed Output
                </label>
                <div class="form-text">Include detailed vulnerability descriptions</div>
            </div>
        </div>
        
        <!-- Continue on Error -->
        <div class="col-md-6">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="safety_continue_on_error" id="safety_continue_on_error" checked>
                <label class="form-check-label" for="safety_continue_on_error">
                    Continue on Error
                </label>
                <div class="form-text">Don't stop on first error encountered</div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <!-- Policy File -->
        <div class="col-md-6">
            <div class="mb-3">
                <label for="safety_policy_file" class="form-label">Policy File</label>
                <input type="file" name="safety_policy_file" id="safety_policy_file" class="form-control" accept=".json,.yml,.yaml">
                <div class="form-text">Optional: Upload custom safety policy file</div>
            </div>
        </div>
        
        <!-- Auto-fix -->
        <div class="col-md-6">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="safety_apply_fixes" id="safety_apply_fixes">
                <label class="form-check-label" for="safety_apply_fixes">
                    Apply Auto-fixes
                </label>
                <div class="form-text">Automatically apply available security fixes</div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <!-- Severity Threshold -->
        <div class="col-md-6">
            <div class="mb-3">
                <label for="safety_severity_threshold" class="form-label">Minimum Severity</label>
                <select name="safety_severity_threshold" id="safety_severity_threshold" class="form-select">
                    <option value="low">Low</option>
                    <option value="medium" selected>Medium</option>
                    <option value="high">High</option>
                    <option value="critical">Critical</option>
                </select>
                <div class="form-text">Only report vulnerabilities at or above this level</div>
            </div>
        </div>
        
        <!-- Ignore File -->
        <div class="col-md-6">
            <div class="mb-3">
                <label for="safety_ignore_file" class="form-label">Ignore File</label>
                <input type="file" name="safety_ignore_file" id="safety_ignore_file" class="form-control" accept=".json,.txt">
                <div class="form-text">File containing vulnerabilities to ignore</div>
            </div>
        </div>
    </div>
    
    <!-- Exclude specific packages -->
    <div class="mb-3">
        <label for="safety_exclude_packages" class="form-label">Exclude Packages</label>
        <textarea name="safety_exclude_packages" id="safety_exclude_packages" class="form-control" rows="2" 
                  placeholder="package1,package2,package3"></textarea>
        <div class="form-text">Comma-separated list of packages to exclude from scanning</div>
    </div>
    
    <!-- Real-time validation feedback -->
    <div class="validation-feedback" id="safety-validation"></div>
</div>
