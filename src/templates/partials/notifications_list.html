<!-- Notifications List Partial -->
<div class="notifications-list">
    {% if notifications %}
    {% for notification in notifications %}
    <div class="notification-item {{ 'unread' if not notification.read else 'read' }}" 
         data-id="{{ notification.id }}">
        <div class="notification-icon notification-{{ notification.type }}">
            {% if notification.type == 'error' %}
            ‚ùå
            {% elif notification.type == 'warning' %}
            ‚ö†Ô∏è
            {% elif notification.type == 'success' %}
            ‚úÖ
            {% else %}
            ‚ÑπÔ∏è
            {% endif %}
        </div>
        
        <div class="notification-content">
            <div class="notification-title">{{ notification.title }}</div>
            <div class="notification-message">{{ notification.message }}</div>
            <div class="notification-time">{{ notification.timestamp }}</div>
        </div>
        
        <button class="notification-dismiss" 
                onclick="dismissNotification({{ notification.id }})"
                aria-label="Dismiss notification">
            √ó
        </button>
    </div>
    {% endfor %}
    {% else %}
    <div class="no-notifications">
        <div class="no-notifications-icon">üîî</div>
        <div class="no-notifications-text">No new notifications</div>
    </div>
    {% endif %}
</div>

<style>
.notifications-list {
    max-height: 300px;
    overflow-y: auto;
}

.notification-item {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-bottom: 1px solid var(--border-color);
    transition: background var(--transition-fast);
}

.notification-item:hover {
    background: var(--surface-color);
}

.notification-item.unread {
    background: rgba(0, 122, 204, 0.05);
    border-left: 3px solid var(--accent-color);
}

.notification-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
    margin-top: var(--spacing-xs);
}

.notification-content {
    flex: 1;
    min-width: 0;
}

.notification-title {
    font-weight: 500;
    font-size: 0.875rem;
    color: var(--text-color);
    margin-bottom: var(--spacing-xs);
}

.notification-message {
    font-size: 0.8rem;
    color: var(--text-muted);
    line-height: 1.4;
    margin-bottom: var(--spacing-xs);
}

.notification-time {
    font-size: 0.7rem;
    color: var(--text-muted);
}

.notification-dismiss {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 1.2rem;
    padding: var(--spacing-xs);
    border-radius: var(--border-radius);
    transition: all var(--transition-fast);
    flex-shrink: 0;
}

.notification-dismiss:hover {
    background: var(--surface-color);
    color: var(--text-color);
}

.no-notifications {
    text-align: center;
    padding: var(--spacing-lg);
    color: var(--text-muted);
}

.no-notifications-icon {
    font-size: 2rem;
    margin-bottom: var(--spacing-sm);
    opacity: 0.5;
}

.no-notifications-text {
    font-size: 0.875rem;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .notification-item {
        flex-direction: column;
        gap: var(--spacing-xs);
    }
    
    .notification-dismiss {
        align-self: flex-end;
        margin-top: calc(-1 * var(--spacing));
    }
}
</style>

<script>
function dismissNotification(id) {
    // In a real app, this would make an API call to mark the notification as read
    const notification = document.querySelector(`[data-id="${id}"]`);
    if (notification) {
        notification.style.opacity = '0.5';
        setTimeout(() => {
            notification.remove();
        }, 200);
    }
}

function clearAllNotifications() {
    const notifications = document.querySelectorAll('.notification-item');
    notifications.forEach(notification => {
        notification.style.opacity = '0.5';
    });
    
    setTimeout(() => {
        document.querySelector('.notifications-content').innerHTML = `
            <div class="no-notifications">
                <div class="no-notifications-icon">üîî</div>
                <div class="no-notifications-text">No new notifications</div>
            </div>
        `;
    }, 200);
}
</script>
