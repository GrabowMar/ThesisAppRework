<!-- Job Progress Template -->
<div class="card">
    <div class="card-header">
        <h6 class="mb-0">
            <i class="fas fa-tasks me-2"></i>
            Job Progress: {{ job.id[:8] }}
        </h6>
    </div>
    <div class="card-body">
        <div class="progress mb-3" style="height: 20px;">
            <div class="progress-bar 
                {% if job.status.name == 'COMPLETED' %}bg-success
                {% elif job.status.name == 'FAILED' %}bg-danger
                {% elif job.status.name == 'RUNNING' %}bg-primary progress-bar-striped progress-bar-animated
                {% else %}bg-secondary{% endif %}" 
                role="progressbar" 
                style="width: {{ progress_percent }}%;" 
                aria-valuenow="{{ progress_percent }}" 
                aria-valuemin="0" 
                aria-valuemax="100">
                {{ progress_percent }}%
            </div>
        </div>
        
        <div class="row g-3">
            <div class="col-md-3">
                <div class="text-center">
                    <div class="h4 mb-0 text-primary">{{ job.total_tasks }}</div>
                    <small class="text-muted">Total Tasks</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center">
                    <div class="h4 mb-0 text-success">{{ job.completed_tasks }}</div>
                    <small class="text-muted">Completed</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center">
                    <div class="h4 mb-0 text-danger">{{ job.failed_tasks }}</div>
                    <small class="text-muted">Failed</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="text-center">
                    <div class="h4 mb-0 text-warning">{{ job.cancelled_tasks }}</div>
                    <small class="text-muted">Cancelled</small>
                </div>
            </div>
        </div>
        
        {% if job.started_at %}
        <div class="mt-3">
            <small class="text-muted">
                <i class="fas fa-clock me-1"></i>
                Started: {{ job.started_at.strftime('%Y-%m-%d %H:%M:%S') }} UTC
            </small>
        </div>
        {% endif %}
        
        {% if job.estimated_duration_minutes %}
        <div class="mt-1">
            <small class="text-muted">
                <i class="fas fa-hourglass-half me-1"></i>
                Estimated duration: {{ job.estimated_duration_minutes }} minutes
            </small>
        </div>
        {% endif %}
    </div>
</div>
