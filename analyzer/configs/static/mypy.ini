# MyPy Configuration
# Static type checker for Python - Strict mode enabled
# Docs: https://mypy.readthedocs.io/en/stable/config_file.html

[mypy]
# ============================================================================
# STRICTNESS SETTINGS - Catch more type issues
# ============================================================================

# Enable strict mode (combines many strict flags)
strict = True

# Additional strict checks beyond --strict
warn_unused_ignores = True
warn_redundant_casts = True
warn_unused_configs = True
warn_unreachable = True

# Require explicit types for function definitions
disallow_untyped_defs = True
disallow_incomplete_defs = True
disallow_untyped_decorators = True

# Disallow dynamic typing
disallow_any_unimported = True
disallow_any_generics = True

# ============================================================================
# ERROR HANDLING
# ============================================================================

# Show error codes in output (helps with # type: ignore[code])
show_error_codes = True

# Show context for errors
show_error_context = True

# Show column numbers
show_column_numbers = True

# Pretty output with color
pretty = True

# ============================================================================
# IMPORT HANDLING - More permissive for generated code
# ============================================================================

# Allow imports from packages without stubs (common in generated apps)
# This is intentionally permissive as we analyze AI-generated code
ignore_missing_imports = True

# Don't require __init__.py for namespace packages
namespace_packages = True

# Follow imports (but limit depth)
follow_imports = normal

# ============================================================================
# PERFORMANCE
# ============================================================================

# Use incremental mode for faster subsequent runs
incremental = True

# Cache directory
cache_dir = /tmp/mypy_cache

# Skip checking stdlib (faster)
no_silence_site_packages = False

# ============================================================================
# OUTPUT FORMAT
# ============================================================================

# JSON output for parsing
output = json

# No error summary (parse individual errors)
no_error_summary = True

# ============================================================================
# PER-MODULE OVERRIDES
# Common third-party libraries without stubs
# ============================================================================

[mypy-flask.*]
ignore_missing_imports = True

[mypy-werkzeug.*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-requests.*]
ignore_missing_imports = True

[mypy-aiohttp.*]
ignore_missing_imports = True

[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-pydantic.*]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True

[mypy-numpy.*]
ignore_missing_imports = True

[mypy-pandas.*]
ignore_missing_imports = True

[mypy-PIL.*]
ignore_missing_imports = True

[mypy-cv2.*]
ignore_missing_imports = True

[mypy-tensorflow.*]
ignore_missing_imports = True

[mypy-torch.*]
ignore_missing_imports = True

[mypy-sklearn.*]
ignore_missing_imports = True

# ============================================================================
# PLUGINS (Optional - uncomment if needed)
# ============================================================================

# plugins =
#     mypy_django_plugin.main,
#     pydantic.mypy
