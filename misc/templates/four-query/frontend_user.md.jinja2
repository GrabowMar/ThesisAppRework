# Generate {{ name }} - Frontend User Page

{{ description }}

## Your Task
Implement the **USER-FACING** frontend functionality. This includes:
- **Login/Register page** in `pages/LoginPage.jsx`
- **Auth context** in `hooks/useAuth.jsx`
- Main user interface in `pages/UserPage.jsx`
- API service functions in `services/api.js`
- Auth service functions in `services/auth.js`
- Custom hooks in `hooks/useData.js` (if needed)
- Additional UI components (if needed)

## TL;DR
- Build a public read-only view
- Gate create/update/delete behind auth
- Keep UI minimal and consistent with endpoints

## Authentication Requirements (MANDATORY)

You MUST implement complete auth UI:

1. **LoginPage.jsx** with:
   - Toggle between Login/Register forms
   - Form validation (username, email, password)
   - Call auth API, store token in localStorage
   - Redirect to UserPage on success
   - Show error toasts on failure

2. **useAuth.jsx** hook with:
   - AuthContext with user, token, login(), logout(), register()
   - Auto-login from stored token on app load
   - Protect routes (redirect to login if not authenticated)

3. **services/auth.js** with:
   - login(username, password), register(username, email, password)
   - getToken(), setToken(), clearToken()
   - getCurrentUser()

## User Requirements
{% for req in frontend_requirements %}
- {{ req }}
{% endfor %}

## Access Policy (MANDATORY)
- Include a **public guest view** (no auth) for the core feature
- Gate create/update/delete and personal data behind auth
- Provide clear CTA to sign in for full functionality

{% if api_endpoints %}
## Backend API Available
{{ api_endpoints }}
{% endif %}

## Stack & Constraints
- React 18 + Tailwind CSS
- Use Axios via the existing `services/api.js` (baseURL is `/api` by default; it honors `VITE_BACKEND_URL` when set)
- Use `react-hot-toast` for user feedback (`toast.success`, `toast.error`)
- Do NOT create/modify `App.jsx` (scaffolding owns routing/navigation)

## Dependencies (REQUIRED if using any external packages)
You MUST list ALL npm packages you import that are not in the default scaffolding.

**Already available (do NOT list these):**
- react, react-dom, react-router-dom, axios
- @heroicons/react (use v2 paths: `@heroicons/react/24/solid`)
- react-hot-toast, react-copy-to-clipboard
- date-fns, clsx, uuid
- tailwindcss, postcss, autoprefixer, vite, @vitejs/plugin-react

**If you use ANY package not in the above list, you MUST include a package.json block.**
Example: If you use `recharts`, `zustand`, `formik`, `yup`, etc. → include them.

The code merger will merge your dependencies into the scaffolding's package.json.

## Implementation Process (DO INTERNALLY)
1. Translate requirements into page sections, state, and user flows.
2. Map API endpoints → functions in `services/api.js` (use the axios instance).
3. Implement `pages/UserPage.jsx`:
	- Loading, error, empty states
	- Forms with client-side validation
	- Toasts for create/update/delete actions
4. If you repeat data-fetch logic, extract it to `hooks/useData.js`.
5. Sanity-check: no placeholder UI, no missing imports, no dead endpoints.

## Common Mistakes to Avoid
- ❌ Calling `/api/api/...` → ✅ call `api.get('/...')` (baseURL already `/api`)
- ❌ Silent failures → ✅ always show a toast and a visible error state
- ❌ Forgetting empty states → ✅ show friendly “no items yet” UI

## File Structure (DO NOT CREATE App.jsx)
The scaffolding already has these files ready for you to fill:
- `pages/UserPage.jsx` - Main user interface
- `services/api.js` - API call functions
- `hooks/useData.js` - Custom React hooks

Pre-built components available: `Spinner`, `ErrorBoundary` from `../components`

## Reference
{{ scaffolding_frontend_context }}

## Output Format
Generate code in these markdown blocks with EXACT filenames:

**Login Page (required):**
```jsx:pages/LoginPage.jsx
// Login/Register form with toggle, validation, and auth API calls
```

**Auth Hook (required):**
```jsx:hooks/useAuth.jsx
// AuthContext, AuthProvider with login/logout/register, token management
```

**Auth Service (required):**
```jsx:services/auth.js
// login(), register(), getToken(), setToken(), clearToken(), getCurrentUser()
```

**User Page (required):**
```jsx:pages/UserPage.jsx
// Main user interface component
```

**API Service (required):**
```jsx:services/api.js
// API call functions for user features (include auth header interceptor)
```

**Dependencies (optional):**
```json:package.json
{
   "dependencies": {
      "some-lib": "^1.2.3"
   },
   "devDependencies": {
      "some-dev-lib": "^4.5.6"
   }
}
```

**Custom Hooks (if needed):**
```jsx:hooks/useData.js
// Custom hooks for data fetching, forms
```

**Additional Components (if needed):**
```jsx:components/ItemList.jsx
// Reusable UI component
```

Generate COMPLETE, WORKING code with:
- Loading states (use `<Spinner />`)
- Error handling (try/catch, error messages)
- Toast notifications for actions (use `toast.success()`, `toast.error()`)
- Tailwind CSS for styling

## Success Criteria
- ✅ All UI requirements implemented
- ✅ API calls match backend response shapes
- ✅ Great UX: loading/errors/toasts/empty states
- ✅ No placeholders/TODOs/truncated code

Do not include explanations—only the requested code blocks.

