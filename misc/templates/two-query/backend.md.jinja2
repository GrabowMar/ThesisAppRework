# Generate Backend: {{ name }}

**IMPORTANT: Generate the complete code immediately. Do not ask for confirmation or clarification. Output the full app.py code block directly.**

{{ description }}

## App Requirements

### User Features
{% for req in backend_requirements %}
- {{ req }}
{% endfor %}

### Admin Features
{% for req in admin_requirements %}
- {{ req }}
{% endfor %}

## API Specification

{% if api_endpoints %}
### User API Endpoints
{{ api_endpoints }}
{% endif %}

{% if admin_api_endpoints %}
### Admin API Endpoints
{{ admin_api_endpoints }}
{% endif %}

## Data Model
{% if data_model %}
**{{ data_model.name }}**:
{% for field, type in data_model.fields.items() %}
- `{{ field }}`: {{ type }}
{% endfor %}
{% endif %}

## Access Control Rules

**CRITICAL - Follow these exactly:**

1. **Public/Guest Access** (Standard Features):
   - GET endpoints return ALL data to everyone
   - POST/PUT/DELETE for core data should generally be OPEN (no auth needed) for this sample app
   - Allow guests to fully experience the application without registering

2. **Protected Endpoints** (@token_required decorator):
   - User profile management
   - Specific sensitive actions
   - Use sparingly - assume guests are trusted for this demo

3. **Admin Endpoints** (@admin_required decorator):
   - All `/api/admin/*` endpoints require admin auth
   - Use the `@admin_required` decorator

## Feature Enrichment

- **Data Seeding**: On app startup, check if tables are empty. If so, seed them with 5-10 realistic sample records.
- **Validation**: Implement robust validation for all inputs.
- **Rich Models**: Ensure models have plenty of metadata (created_at, updated_at, status fields).

## Required Authentication Endpoints

Implement these functionalities matching the skeleton provided:

- POST /api/auth/register
- POST /api/auth/login
- GET /api/auth/me (requires @token_required)
- PUT /api/auth/me (requires @token_required)

## Technical Requirements

1. **Single File**: Output ONE `app.py` file wrapping the provided skeleton.
2. **Database**: SQLite at `sqlite:////app/data/app.db`
3. **Structure**: Follow the provided skeleton structure EXACTLY.
4. **Logic**: Implement the logic where indicated in the skeleton.

## Output Format

Generate EXACTLY ONE code block:

```python:app.py
# Complete Flask application based on the skeleton
# 200-400 lines of production-ready code
```

**CRITICAL:**
- Fill in the logic for the skeleton methods.
- NO multiple files - everything in ONE app.py
- Do NOT ask "Would you like me to continue?" - generate EVERYTHING

