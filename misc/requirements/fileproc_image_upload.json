{
  "slug": "fileproc_image_upload",
  "name": "Image Gallery",
  "category": "File Processing",
  "description": "Upload and view images",
  "backend_requirements": [
    "Access control: allow public image browsing; require auth for uploads and management",
    "1. POST /api/images/upload - accept multipart/form-data image files",
    "2. Save images to /uploads directory with unique filenames",
    "3. Image model: id, stored_filename, original_filename, size_bytes, uploaded_at, is_active",
    "4. GET /api/images - return list of images with URLs",
    "5. Validate file type (jpg, png, gif) and size (<5MB)"
  ],
  "frontend_requirements": [
    "Public guest view of gallery with CTA to sign in for management",
    "1. File input with 'Upload' button, show selected filename",
    "2. Image grid displaying thumbnails (CSS grid)",
    "3. Click image to view full size in modal/lightbox",
    "4. Delete button per image with confirmation",
    "5. Upload progress bar or spinner"
  ],
  "api_endpoints": [
    {
      "method": "POST",
      "path": "/api/images/upload",
      "description": "Upload image file",
      "request": {
        "content_type": "multipart/form-data",
        "fields": {
          "image": "binary"
        }
      },
      "response": {
        "id": 1,
        "filename": "string",
        "url": "/uploads/image.jpg",
        "size": 12345,
        "uploaded_at": "ISO8601"
      }
    },
    {
      "method": "GET",
      "path": "/api/images",
      "description": "List all images",
      "request": null,
      "response": {
        "items": [
          {
            "id": 1,
            "filename": "string",
            "url": "string",
            "size": 12345,
            "uploaded_at": "ISO8601"
          }
        ],
        "total": 1
      }
    },
    {
      "method": "DELETE",
      "path": "/api/images/:id",
      "description": "Delete image",
      "request": null,
      "response": {}
    },
    {
      "method": "GET",
      "path": "/api/health",
      "description": "Health check endpoint",
      "request": null,
      "response": {
        "status": "healthy",
        "service": "backend"
      }
    }
  ],
  "data_model": {
    "name": "Image",
    "fields": {
      "id": "integer (primary key)",
      "stored_filename": "string (required, unique filename on disk)",
      "original_filename": "string (required, original upload filename)",
      "filepath": "string (server filesystem path)",
      "size_bytes": "integer (bytes)",
      "uploaded_at": "datetime (auto, ISO 8601 format in JSON)",
      "is_active": "boolean (default: true, for soft delete)"
    }
  },
  "admin_requirements": [
    "1. Admin dashboard showing key statistics (total entries, active, inactive)",
    "2. Table listing ALL entries including inactive/soft-deleted with status badges",
    "3. Toggle button to activate/deactivate entries",
    "4. Bulk actions for selected entries (delete, status change)",
    "5. Search and filter functionality"
  ],
  "admin_api_endpoints": [
    {
      "method": "GET",
      "path": "/api/admin/images",
      "description": "List ALL images including inactive",
      "request": null,
      "response": {
        "items": [],
        "total": 0
      }
    },
    {
      "method": "POST",
      "path": "/api/admin/images/:id/toggle",
      "description": "Toggle image active status",
      "request": null,
      "response": {
        "id": 1,
        "is_active": true
      }
    },
    {
      "method": "POST",
      "path": "/api/admin/images/bulk-delete",
      "description": "Delete multiple images",
      "request": {
        "ids": [
          1,
          2,
          3
        ]
      },
      "response": {
        "deleted": 3
      }
    },
    {
      "method": "GET",
      "path": "/api/admin/stats",
      "description": "Get dashboard statistics",
      "request": null,
      "response": {
        "total": 0,
        "active": 0,
        "inactive": 0
      }
    }
  ]
}