{
  "slug": "collaboration_simple_poll",
  "name": "Quick Polls",
  "category": "Collaboration",
  "description": "Create polls and vote",
  "backend_requirements": [
    "Access control: allow public poll voting and viewing; require auth for poll creation/deletion",
    "1. Poll model: id, question (required), created_at",
    "2. PollOption model: id, poll_id, text, votes",
    "3. GET /api/polls - list polls with options",
    "4. POST /api/polls - create poll with 2-6 options",
    "5. POST /api/polls/:id/vote - increment option votes"
  ],
  "frontend_requirements": [
    "Public guest view of polls with CTA to sign in for creating polls",
    "1. Poll list with question and options",
    "2. Vote buttons with immediate count update",
    "3. Results bar chart per poll",
    "4. Create poll form with dynamic options",
    "5. Loading and empty states"
  ],
  "api_endpoints": [
    {
      "method": "GET",
      "path": "/api/polls",
      "description": "List all polls with options",
      "request": null,
      "response": {
        "items": [
          {
            "id": 1,
            "question": "string",
            "options": [
              {
                "id": 1,
                "text": "A",
                "votes": 2
              }
            ],
            "created_at": "ISO8601"
          }
        ],
        "total": 1
      }
    },
    {
      "method": "POST",
      "path": "/api/polls",
      "description": "Create new poll",
      "request": {
        "question": "string",
        "options": [
          "A",
          "B"
        ]
      },
      "response": {
        "id": 1,
        "question": "string",
        "options": [
          {
            "id": 1,
            "text": "A",
            "votes": 0
          }
        ],
        "created_at": "ISO8601"
      }
    },
    {
      "method": "POST",
      "path": "/api/polls/:id/vote",
      "description": "Vote on an option",
      "request": {
        "option_id": 1
      },
      "response": {
        "id": 1,
        "option_id": 1,
        "votes": 3
      }
    },
    {
      "method": "GET",
      "path": "/api/health",
      "description": "Health check endpoint",
      "request": null,
      "response": {
        "status": "healthy",
        "service": "backend"
      }
    }
  ],
  "data_model": {
    "name": "Poll",
    "fields": {
      "id": "integer (primary key, auto-increment)",
      "question": "string (required, max 500 chars)",
      "created_at": "datetime (auto, ISO 8601 format in JSON)",
      "is_active": "boolean (default: true, for soft delete)"
    },
    "related": "PollOption (id, poll_id, text, votes)"
  },
  "admin_requirements": [
    "1. Admin overview list with total/active/inactive counts",
    "2. Toggle active status for any poll"
  ],
  "admin_api_endpoints": [
    {
      "method": "GET",
      "path": "/api/admin/polls",
      "description": "Admin overview: list all polls and counts",
      "request": null,
      "response": {
        "items": [],
        "total": 0,
        "active": 0,
        "inactive": 0
      }
    },
    {
      "method": "POST",
      "path": "/api/admin/polls/:id/toggle",
      "description": "Toggle poll active status",
      "request": null,
      "response": {
        "id": 1,
        "is_active": true
      }
    }
  ]
}
