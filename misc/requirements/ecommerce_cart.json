{
  "slug": "ecommerce_cart",
  "name": "Shopping Cart",
  "category": "E-commerce",
  "description": "Add products to cart and checkout",
  "backend_requirements": [
    "Access control: allow public product browsing; require auth for cart mutations and checkout",
    "1. Product model: id, name, price (decimal), description, image_url, is_active (default True), stock_quantity",
    "2. Cart stored in session or database: product_id, quantity",
    "3. POST /api/cart/add - add item to cart (check stock)",
    "4. PUT /api/cart/:id - update quantity, DELETE /api/cart/:id - remove item",
    "5. GET /api/cart/total - calculate total price"
  ],
  "frontend_requirements": [
    "Public guest view of products with CTA to sign in for cart and checkout",
    "1. Product grid with name, price, image, 'Add to Cart' button",
    "2. Cart sidebar showing items with quantity controls (+/-)",
    "3. Display subtotal and total price",
    "4. Remove item button for each cart item",
    "5. Empty cart message when no items"
  ],
  "admin_requirements": [
    "1. Admin dashboard with total products, total revenue, low stock alerts",
    "2. Product management table with ALL products including inactive",
    "3. Toggle product availability (active/inactive)",
    "4. Edit stock quantity inline",
    "5. Bulk delete products with confirmation"
  ],
  "api_endpoints": [
    {
      "method": "GET",
      "path": "/api/products",
      "description": "List all active products",
      "request": null,
      "response": {
        "items": [
          {
            "id": 1,
            "name": "string",
            "price": 29.99,
            "description": "string",
            "image_url": "string"
          }
        ],
        "total": 1
      }
    },
    {
      "method": "GET",
      "path": "/api/cart",
      "description": "Get current cart items",
      "request": null,
      "response": {
        "items": [
          {
            "id": 1,
            "product_id": 1,
            "product_name": "string",
            "price": 29.99,
            "quantity": 2
          }
        ],
        "subtotal": 59.98,
        "total": 59.98
      }
    },
    {
      "method": "POST",
      "path": "/api/cart/add",
      "description": "Add product to cart",
      "request": {
        "product_id": "integer",
        "quantity": "integer (default: 1)"
      },
      "response": {
        "id": 1,
        "product_id": 1,
        "quantity": 2
      }
    },
    {
      "method": "PUT",
      "path": "/api/cart/:itemId",
      "description": "Update cart item quantity",
      "request": {
        "quantity": "integer"
      },
      "response": {
        "id": 1,
        "product_id": 1,
        "quantity": 3
      }
    },
    {
      "method": "DELETE",
      "path": "/api/cart/:itemId",
      "description": "Remove item from cart",
      "request": null,
      "response": {}
    },
    {
      "method": "GET",
      "path": "/api/cart/total",
      "description": "Get cart total price",
      "request": null,
      "response": {
        "subtotal": 59.98,
        "tax": 5.4,
        "total": 65.38
      }
    },
    {
      "method": "GET",
      "path": "/api/health",
      "description": "Health check endpoint",
      "request": null,
      "response": {
        "status": "healthy",
        "service": "backend"
      }
    }
  ],
  "admin_api_endpoints": [
    {
      "method": "GET",
      "path": "/api/admin/products",
      "description": "List ALL products including inactive",
      "request": null,
      "response": {"items": [{"id": 1, "name": "string", "price": 29.99, "stock_quantity": 100, "is_active": true}], "total": 1}
    },
    {
      "method": "POST",
      "path": "/api/admin/products/:id/toggle",
      "description": "Toggle product availability",
      "request": null,
      "response": {"id": 1, "name": "string", "is_active": false}
    },
    {
      "method": "PUT",
      "path": "/api/admin/products/:id/stock",
      "description": "Update product stock quantity",
      "request": {"stock_quantity": 50},
      "response": {"id": 1, "stock_quantity": 50}
    },
    {
      "method": "POST",
      "path": "/api/admin/products/bulk-delete",
      "description": "Delete multiple products",
      "request": {"ids": [1, 2, 3]},
      "response": {"deleted": 3}
    },
    {
      "method": "GET",
      "path": "/api/admin/stats",
      "description": "Get admin dashboard statistics",
      "request": null,
      "response": {"total_products": 50, "active_products": 45, "low_stock_count": 5, "total_cart_value": 1250.00}
    }
  ],
  "data_model": {
    "name": "Product & CartItem",
    "fields": {
      "Product.id": "integer (primary key)",
      "Product.name": "string (required)",
      "Product.price": "decimal (required)",
      "Product.description": "text",
      "Product.image_url": "string",
      "Product.is_active": "boolean (default: true)",
      "Product.stock_quantity": "integer (default: 0)",
      "CartItem.id": "integer (primary key)",
      "CartItem.product_id": "integer (foreign key)",
      "CartItem.quantity": "integer (default: 1)"
    }
  }
}